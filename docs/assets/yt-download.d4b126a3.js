import{Q as y,R as u}from"./index.83cf3a15.js";const f="https://mppm-q.herokuapp.com";function n(o,s){return`${f}/${o}?vid=${s}`}async function h(o,s){let a;try{a=await fetch(n("ytdownload",o)).then(t=>t.text())}catch(t){return console.log("yt job error",t),!1}console.log("yt job successful",a);const r=10,c=8e3;let e=!1;for(let t=0;t<r;t++){await y(t===0?2e3:c),console.log("trying...");const l=await fetch(n("ytready",o)).then(i=>i.status);if(e=l===200,e)break;console.log("not there yet. status:",l)}return e?(console.log("downloading",o),u(n("ytget",s||""))):console.log("stream not ready",o),e}export{f as M,h as i};
