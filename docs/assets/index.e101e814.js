import{S as F,i as H,s as J,e as h,m as D,x as S,y as M,z as v,b as A,d,n as Y,B as j,C as R,t as C,a3 as N,h as P,j as w,q as E,$ as O,E as Q,G as U,D as W,a2 as X,Y as Z,K as x,a4 as tt,V as et}from"./index.83cf3a15.js";import{B as lt}from"./BackButton.7c024e31.js";import{I as nt,p as L}from"./playlist.service.2088f8aa.js";import{I as ot}from"./IoIosPlay.98311941.js";import"./IconBase.72bcaa5e.js";function G(n,o,u){const _=n.slice();return _[9]=o[u],_}function K(n){let o,u,_=n[9].name+"",m,g,r,p,b,I,f,k,l;p=new ot({});function i(...s){return n[5](n[9],...s)}function y(){return n[6](n[9])}return{c(){o=h("ion-item"),u=h("ion-label"),m=M(_),g=S(),r=h("ion-button"),D(p.$$.fragment),I=S(),v(r,"disabled",b=n[9].tracks.length===0),v(r,"fill","clear"),v(r,"slot","end"),v(o,"class","svelte-1bjd3db")},m(s,$){A(s,o,$),d(o,u),d(u,m),d(o,g),d(o,r),Y(p,r,null),d(o,I),f=!0,k||(l=[j(r,"click",i),j(o,"click",y)],k=!0)},p(s,$){n=s,(!f||$&1)&&_!==(_=n[9].name+"")&&R(m,_),(!f||$&1&&b!==(b=n[9].tracks.length===0))&&v(r,"disabled",b)},i(s){f||(C(p.$$.fragment,s),f=!0)},o(s){P(p.$$.fragment,s),f=!1},d(s){s&&w(o),E(p),k=!1,W(l)}}}function at(n){let o,u,_,m,g,r,p=n[1]("C_PLAYLISTS")+"",b,I,f,k,l,i,y,s,$,T,q;m=new lt({});let B=n[0],e=[];for(let t=0;t<B.length;t+=1)e[t]=K(G(n,B,t));const V=t=>P(e[t],1,1,()=>{e[t]=null});return s=new nt({}),{c(){o=h("ion-header"),u=h("ion-toolbar"),_=h("ion-buttons"),D(m.$$.fragment),g=S(),r=h("ion-title"),b=M(p),I=S(),f=h("ion-content"),k=h("ion-list");for(let t=0;t<e.length;t+=1)e[t].c();l=S(),i=h("ion-fab"),y=h("ion-fab-button"),D(s.$$.fragment),v(i,"vertical","bottom"),v(i,"horizontal","end"),v(i,"slot","fixed"),v(i,"class","svelte-1bjd3db")},m(t,c){A(t,o,c),d(o,u),d(u,_),Y(m,_,null),d(u,g),d(u,r),d(r,b),A(t,I,c),A(t,f,c),d(f,k);for(let a=0;a<e.length;a+=1)e[a].m(k,null);d(f,l),d(f,i),d(i,y),Y(s,y,null),$=!0,T||(q=j(y,"click",n[7]),T=!0)},p(t,[c]){if((!$||c&2)&&p!==(p=t[1]("C_PLAYLISTS")+"")&&R(b,p),c&21){B=t[0];let a;for(a=0;a<B.length;a+=1){const z=G(t,B,a);e[a]?(e[a].p(z,c),C(e[a],1)):(e[a]=K(z),e[a].c(),C(e[a],1),e[a].m(k,null))}for(X(),a=B.length;a<e.length;a+=1)V(a);N()}},i(t){if(!$){C(m.$$.fragment,t);for(let c=0;c<B.length;c+=1)C(e[c]);C(s.$$.fragment,t),$=!0}},o(t){P(m.$$.fragment,t),e=e.filter(Boolean);for(let c=0;c<e.length;c+=1)P(e[c]);P(s.$$.fragment,t),$=!1},d(t){t&&w(o),E(m),t&&w(I),t&&w(f),O(e,t),E(s),T=!1,q()}}}function st(n,o,u){let _;Q(n,Z,l=>u(1,_=l));let m=[];U(()=>{p()});function g({index:l},i=!1){x(`/playlist/${l}${i?"#add-tracks":""}`)}async function r(){const l=await tt({header:"C_ADD_PLAYLIST",okButtonText:"C_CREATE"});if(l){const i=L.playlists.length,y={name:l,tracks:[],index:i};L.playlists.push(y),L.save(),g(y,!0)}}function p(){u(0,m=et.exports.orderBy(L.playlists,l=>l.name.toLowerCase()))}async function b(l,i){l.cancelBubble=!0,L.start(i)}return[m,_,g,r,b,(l,i)=>b(i,l),l=>g(l),()=>r()]}class ft extends F{constructor(o){super(),H(this,o,st,at,J,{})}}export{ft as default};
