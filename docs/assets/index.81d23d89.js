import{S as J,i as U,s as Z,l as B,m as H,n as F,o as ne,p as le,t as K,h as j,q,r as N,v as ae,a as D,b as w,w as Q,j as A,e as h,x as P,z as v,A as R,d as m,B as M,D as W,E as se,G as oe,y as x,C as ee,Y as ie,U as re,J as ce,F as z,V as fe,X as _e,K as O,Z as V,L as ue,_ as pe,M as de,$ as me,a0 as he,a1 as be}from"./index.83cf3a15.js";import{m as ke}from"./long-click.c63dde78.js";import{I as ve,p as Ce}from"./playlist.service.2088f8aa.js";import{I as ge}from"./IconBase.72bcaa5e.js";import{o as $e}from"./yt-search.50a2bfc9.js";function Te(l){let e;return{c(){e=ae("path"),D(e,"d","M432 176H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 272H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16zM432 368H80c-8.8 0-16-7.2-16-16s7.2-16 16-16h352c8.8 0 16 7.2 16 16s-7.2 16-16 16z")},m(n,t){w(n,e,t)},p:Q,d(n){n&&A(e)}}}function we(l){let e,n;const t=[{viewBox:"0 0 512 512"},l[0]];let s={$$slots:{default:[Te]},$$scope:{ctx:l}};for(let o=0;o<t.length;o+=1)s=B(s,t[o]);return e=new ge({props:s}),{c(){H(e.$$.fragment)},m(o,a){F(e,o,a),n=!0},p(o,[a]){const _=a&1?ne(t,[t[0],le(o[0])]):{};a&2&&(_.$$scope={dirty:a,ctx:o}),e.$set(_)},i(o){n||(K(e.$$.fragment,o),n=!0)},o(o){j(e.$$.fragment,o),n=!1},d(o){q(e,o)}}}function Ae(l,e,n){return l.$$set=t=>{n(0,e=B(B({},e),N(t)))},e=N(e),[e]}class Le extends J{constructor(e){super(),U(this,e,Ae,we,Z,{})}}function X(l,e,n){const t=l.slice();return t[17]=e[n],t}function Re(l){let e,n=l[0],t=[];for(let s=0;s<n.length;s+=1)t[s]=Y(X(l,n,s));return{c(){e=h("ion-list");for(let s=0;s<t.length;s+=1)t[s].c()},m(s,o){w(s,e,o);for(let a=0;a<t.length;a+=1)t[a].m(e,null)},p(s,o){if(o&385){n=s[0];let a;for(a=0;a<n.length;a+=1){const _=X(s,n,a);t[a]?t[a].p(_,o):(t[a]=Y(_),t[a].c(),t[a].m(e,null))}for(;a<t.length;a+=1)t[a].d(1);t.length=n.length}},d(s){s&&A(e),me(t,s)}}}function Se(l){let e;return{c(){e=h("h3"),e.textContent="Musician's Practicing Player",D(e,"class","title svelte-l036bv")},m(n,t){w(n,e,t)},p:Q,d(n){n&&A(e)}}}function Y(l){let e,n,t=l[17].name+"",s,o,a,_;function c(){return l[10](l[17])}function T(){return l[11](l[17])}return{c(){e=h("ion-item"),n=h("ion-label"),s=x(t),o=P(),v(n,"class","svelte-l036bv"),R(n,"file-lost",l[17].fileLost),v(e,"class","svelte-l036bv")},m(d,C){w(d,e,C),m(e,n),m(n,s),m(e,o),a||(_=[he(ke.call(null,e)),M(e,"mppmClick",c),M(e,"mppmClickLong",T)],a=!0)},p(d,C){l=d,C&1&&t!==(t=l[17].name+"")&&ee(s,t),C&1&&R(n,"file-lost",l[17].fileLost)},d(d){d&&A(e),a=!1,W(_)}}}function G(l){let e,n=l[3]("C_ADD_TRACK")+"",t;return{c(){e=h("div"),t=x(n),D(e,"class","add-track-info pulse svelte-l036bv")},m(s,o){w(s,e,o),m(e,t)},p(s,o){o&8&&n!==(n=s[3]("C_ADD_TRACK")+"")&&ee(t,n)},d(s){s&&A(e)}}}function Ie(l){let e,n,t,s,o,a,_,c,T,d,C,g,$,S,L,I,b,E,y;function r(i,u){return i[1]?Se:Re}let k=r(l),p=k(l);d=new Le({props:{class:"menu"}}),$=new ve({});let f=l[1]&&G(l);return{c(){e=h("ion-header"),n=h("ion-toolbar"),t=h("ion-searchbar"),o=P(),a=h("ion-content"),p.c(),_=P(),c=h("ion-fab"),T=h("div"),H(d.$$.fragment),C=P(),g=h("ion-fab-button"),H($.$$.fragment),S=P(),f&&f.c(),v(t,"placeholder",s=l[3]("C_SEARCH")),e.hidden=l[1],D(T,"class","menu-container svelte-l036bv"),v(g,"class","svelte-l036bv"),R(g,"pulse",l[1]),v(c,"vertical",L=l[1]?"center":"bottom"),v(c,"horizontal",I=l[1]?"center":"end"),v(c,"slot","fixed"),v(c,"class","svelte-l036bv"),R(c,"with-tracks",!l[1])},m(i,u){w(i,e,u),m(e,n),m(n,t),l[9](t),w(i,o,u),w(i,a,u),p.m(a,null),m(a,_),m(a,c),m(c,T),F(d,T,null),m(c,C),m(c,g),F($,g,null),m(c,S),f&&f.m(c,null),b=!0,E||(y=[M(t,"ionInput",l[4]),M(T,"click",l[12]),M(g,"click",l[13])],E=!0)},p(i,[u]){(!b||u&8&&s!==(s=i[3]("C_SEARCH")))&&v(t,"placeholder",s),(!b||u&2)&&(e.hidden=i[1]),k===(k=r(i))&&p?p.p(i,u):(p.d(1),p=k(i),p&&(p.c(),p.m(a,_))),(!b||u&2)&&R(g,"pulse",i[1]),i[1]?f?f.p(i,u):(f=G(i),f.c(),f.m(c,null)):f&&(f.d(1),f=null),(!b||u&2&&L!==(L=i[1]?"center":"bottom"))&&v(c,"vertical",L),(!b||u&2&&I!==(I=i[1]?"center":"end"))&&v(c,"horizontal",I),(!b||u&2)&&R(c,"with-tracks",!i[1])},i(i){b||(K(d.$$.fragment,i),K($.$$.fragment,i),b=!0)},o(i){j(d.$$.fragment,i),j($.$$.fragment,i),b=!1},d(i){i&&A(e),l[9](null),i&&A(o),i&&A(a),p.d(),q(d),q($),f&&f.d(),E=!1,W(y)}}}function Pe(l,e,n){let t;se(l,ie,r=>n(3,t=r));let s=[],o="",a=!0,_;oe(()=>{c(),re("desktop")&&ce(()=>_).then(r=>r==null?void 0:r.setFocus())});function c(){const r=z.tracks;n(1,a=r.length===0),n(0,s=fe.exports.orderBy(_e(r,o),k=>k.name.toLowerCase()))}function T(r){o=r.target.value,c()}async function d(){const r=k=>new Promise(async p=>{let f,i;const u=te=>()=>{f=te,i.dismiss()};i=await be.create({header:t("C_IMPORT_TRACKS",{values:{countTracks:k}}),buttons:[{text:t("C_REPLACE"),handler:u(!0)},{text:t("C_APPEND"),handler:u(!1)}]}),i.onDidDismiss().then(()=>p(f)),await i.present()});return V.import(r)}async function C(){const r={buttons:[a?void 0:{text:t("C_PLAYLISTS"),handler:()=>O("/playlists")},a?void 0:{text:t("C_EXPORT"),handler:()=>{setTimeout(()=>V.export())}},{text:t("C_IMPORT"),handler:()=>{setTimeout(async()=>{const p=await d();p!==void 0&&(p?c():(await ue.create({message:t("C_IMPORT_ERROR"),duration:4e3})).present())})}},a?void 0:{text:t("C_REMOVE_ALL_TRACKS"),handler:()=>{z.removeAll(),c()}},{text:t("C_INFO"),handler:()=>O("/info")}].filter(Boolean)};(await pe.create(r)).present()}function g(){$(-1)}function $(r,{openSearch:k=!0}={}){$e.set(k),O(`/add-track/${r}`)}function S(r){Ce.activePlaylist.set(void 0),z.openTrack(r)}function L(r){de[r?"unshift":"push"](()=>{_=r,n(2,_)})}return[s,a,_,t,T,C,g,$,S,L,r=>S(r),r=>$(r.index,{openSearch:!1}),()=>C(),()=>g()]}class Oe extends J{constructor(e){super(),U(this,e,Pe,Ie,Z,{})}}export{Oe as default};
